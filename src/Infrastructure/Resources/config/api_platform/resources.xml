<?xml version="1.0" encoding="UTF-8" ?>

<resources xmlns="https://api-platform.com/schema/metadata">
    <resource
            class="AulaSoftwareLibre\Iam\Infrastructure\ReadModel\View\UserView"
            shortName="User"
            description="Users"
    >
        <itemOperations>
            <itemOperation name="get" />
        </itemOperations>
    </resource>

    <resource
            class="AulaSoftwareLibre\Iam\Infrastructure\ReadModel\View\ScopeView"
            shortName="Scope"
            description="Scopes"
    >
        <property name="roles">
            <subresource resourceClass="AulaSoftwareLibre\Iam\Infrastructure\ReadModel\View\RoleView"
                         collection="true"
                         maxDepth="1"/>
        </property>
    </resource>

    <resource
            class="AulaSoftwareLibre\Iam\Infrastructure\ReadModel\View\RoleView"
            shortName="Role"
            description="Roles"
    >
        <itemOperations>
            <itemOperation name="get" />
            <itemOperation name="delete" />
        </itemOperations>
        <collectionOperations>
            <collectionOperation name="post" />
        </collectionOperations>
    </resource>
</resources>


